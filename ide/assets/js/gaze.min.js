const gazeDetection={private:{scripts:[document.createElement("script"),document.createElement("script")],model:void 0,gotScripts:!1,retrievingScripts:!1,canvas:document.createElement("canvas"),init:async function(){if(!gazeDetection.private.gotScripts)return!1;if(gazeDetection.ready)return!0;try{gazeDetection.private.model=await tmPose.load("https://teachablemachine.withgoogle.com/models/_PX9rA_5M/model.json","https://teachablemachine.withgoogle.com/models/_PX9rA_5M/metadata.json"),gazeDetection.ready=!0,gazeDetection.ready=!0}catch{}return gazeDetection.ready},setup:function(){if(gazeDetection.private.retrievingScripts||!gazeDetection.private.gotScripts){gazeDetection.private.retrievingScripts=!0;return gazeDetection.private.scripts[0].src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js",gazeDetection.private.scripts[1].src="https://cdn.jsdelivr.net/npm/@teachablemachine/pose@0.8/dist/teachablemachine-pose.min.js",document.head.appendChild(gazeDetection.private.scripts[0]),gazeDetection.private.scripts[0].addEventListener("load",function(){document.head.appendChild(gazeDetection.private.scripts[1]),gazeDetection.private.scripts[1].addEventListener("load",function(){gazeDetection.private.gotScripts=!0,gazeDetection.private.init()})}),!1}return!0}},ready:!1,default:0,direction:async function(a){if(!1==(await gazeDetection.private.init())||null==gazeDetection.private.model)return gazeDetection.default;if(2!=gazeDetection.private.model.getTotalClasses())return gazeDetection.default;const b=gazeDetection.private.canvas.getContext("2d");gazeDetection.private.canvas.width=a.width,gazeDetection.private.canvas.height=a.height,b.drawImage(a,0,0);let c=1;try{const{posenetOutput:a}=await gazeDetection.private.model.estimatePose(gazeDetection.private.canvas),b=await gazeDetection.private.model.predict(a);b[1].probability>b[0].probability&&(c=0)}catch{}return gazeDetection.private.canvas.width=0,gazeDetection.private.canvas.height=0,c}};gazeDetection.private.setup();